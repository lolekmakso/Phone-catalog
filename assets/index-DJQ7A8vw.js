import{b as D,r as t,G as A,j as e,c as g,I as y,i as C,d as L,a as E,e as G,L as F}from"./index-ByYAZb2C.js";import{B as R}from"./Breadcrumbs-BXu5vy6y.js";import{P as M}from"./ProductsSlider-Cax6XuAw.js";import{B as w}from"./ButtonBack-CLD6mEC4.js";import{L as H}from"./Loader-5a1lsbWn.js";import"./ProductCard-BG73_E-W.js";const z={graphite:"#383838",gold:"#FFD700",sierrablue:"#6CABDD",black:"#000000",rosegold:"#B76E79",silver:"#C0C0C0",spacegray:"#4B4F54",white:"#FFFFFF",yellow:"#FFFF00",red:"#FF0000",coral:"#FF7F50",midnight:"#2C3E50",purple:"#800080",spaceblack:"#1D1D1D",blue:"#0000FF",pink:"#FFC0CB",green:"#008000",midnightgreen:"#004953"},B=(s,l)=>s.find(c=>c.itemId===l),O=({selectedProduct:s,specificProducts:l})=>{const c=D(),{allProducts:n,cart:d,favorites:P,toggleFavorites:p,addToCart:j,theme:_}=t.useContext(A),[r,m]=t.useState(0),N=t.useCallback(a=>{const i=B(n,a.id);i&&j(i)},[j,n]),h=t.useCallback(a=>{const i=B(n,a.id);i&&p(i)},[n,p]),o=t.useCallback((a,i)=>{const{color:v,namespaceId:$,capacity:I}=s,b=l.find(({color:f,namespaceId:T,capacity:k})=>T===$&&(a==="color"&&f===i&&k===I||a==="capacity"&&k===i&&f===v));return(b==null?void 0:b.id)??""},[s,l]),x=t.useMemo(()=>d.some(a=>a.id===s.id),[d,s.id]),u=t.useMemo(()=>P.some(a=>a.itemId===s.id),[P,s.id]),S=(a,i)=>{const v=`/${s.category}/${o(a,i)}`;c(v,{replace:!0})};return e.jsxs("div",{className:"detailsPage__content-top",children:[e.jsx("div",{className:"detailsPage__container-imageSlider",children:s.images.map((a,i)=>e.jsx("div",{className:g("detailsPage__container-photos",{"detailsPage__container-photos--active":r===i}),children:e.jsx("img",{src:`./${a}`,alt:`Thumbnail ${i+1}`,className:"detailsPage__photo",onClick:()=>m(i)})},i))}),e.jsx("div",{className:"detailsPage__photo-mask",children:s.images.map((a,i)=>e.jsx("img",{src:`./${a}`,alt:`Selected Photo ${i+1}`,className:g("detailsPage__image",{"detailsPage__image--active":r===i})},i))}),e.jsxs("div",{className:"detailsPage__characteristics",children:[e.jsxs("div",{className:"detailsPage__colors",children:[e.jsx("span",{className:"detailsPage__colors-title detailsPage__info",children:"Available colors"}),e.jsx("ul",{className:"detailsPage__colors-list",children:s.colorsAvailable.map(a=>e.jsx("li",{className:g("detailsPage__color-item",{"detailsPage__color-item--selected":s.color===a}),onClick:()=>S("color",a),style:{cursor:"pointer"},children:e.jsx("span",{className:"detailsPage__color-circle",style:{backgroundColor:z[a]}})},a))})]}),e.jsx("div",{className:"detailsPage__line"}),e.jsxs("div",{className:"detailsPage__capacity",children:[e.jsx("span",{className:"detailsPage__capacity-title detailsPage__info",children:"Select capacity"}),e.jsx("ul",{className:"detailsPage__capacity-list",children:s.capacityAvailable.map(a=>e.jsx("li",{className:g("detailsPage__capacity-item",{"detailsPage__capacity-item--selected":s.capacity===a}),onClick:()=>S("capacity",a),style:{cursor:"pointer"},children:e.jsx("span",{className:g("detailsPage__capacity-block",{"detailsPage__capacity-block--selected":s.capacity===a}),children:a.split("GB").join(" GB")})},a))})]}),e.jsx("div",{className:"detailsPage__line"}),e.jsxs("div",{className:"detailsPage__container-price",children:[e.jsx("span",{className:"detailsPage__price-discount",children:`$${s.priceDiscount}`}),e.jsx("span",{className:"detailsPage__price-regular",children:`$${s.priceRegular}`})]}),e.jsxs("div",{className:"detailsPage__container-buttons",children:[e.jsx("button",{className:g("detailsPage__button","detailsPage__button-card",{"detailsPage__button-card--active":x}),onClick:()=>N(s),children:x?"Added":"Add to cart"}),e.jsx("button",{className:g("detailsPage__button","detailsPage__button-favorites",{"detailsPage__button-favorites--active":u}),onClick:()=>h(s),children:u?e.jsx(y,{icon:C.favorites__filled[_]}):e.jsx(y,{icon:C.favorites[_]})})]}),e.jsxs("div",{className:"detailsPage__container-specifications",children:[e.jsxs("div",{className:"detailsPage__block",children:[e.jsx("span",{className:"detailsPage__info",children:"Screen"}),e.jsx("span",{className:"detailsPage__value",children:s.screen})]}),e.jsxs("div",{className:"detailsPage__block",children:[e.jsx("span",{className:"detailsPage__info",children:"Resolution"}),e.jsx("span",{className:"detailsPage__value",children:s.resolution})]}),e.jsxs("div",{className:"detailsPage__block",children:[e.jsx("span",{className:"detailsPage__info",children:"Processor"}),e.jsx("span",{className:"detailsPage__value",children:s.processor})]}),e.jsxs("div",{className:"detailsPage__block",children:[e.jsx("span",{className:"detailsPage__info",children:"RAM"}),e.jsx("span",{className:"detailsPage__value",children:s.ram})]})]})]})]})},Y=({selectedProduct:s})=>e.jsxs("div",{className:"detailsPage__content-buttom",children:[e.jsxs("div",{className:"detailsPage__block-about",children:[e.jsx("h3",{className:"detailsPage__block-title",children:"About"}),e.jsx("div",{className:"detailsPage__line-bottom"}),e.jsx("div",{className:"detailsPage__description",children:s.description.map((l,c)=>e.jsxs("div",{className:"detailsPage__section",children:[e.jsx("span",{className:"detailsPage__section-title",children:l.title}),e.jsx("span",{className:"detailsPage__section-description",children:l.text})]},c))})]}),e.jsxs("div",{className:"detailsPage__block-techSpecs",children:[e.jsx("h3",{className:"detailsPage__block-title",children:"Tech specs"}),e.jsx("div",{className:"productDetailsPage__line-bottom"}),e.jsxs("div",{className:"detailsPage__techSpecs-content",children:[e.jsxs("div",{className:"detailsPage__techSpecs-block",children:[e.jsx("span",{className:"detailsPage__techSpecs-title",children:"Screen"}),e.jsx("span",{className:"detailsPage__techSpecs-value",children:s.screen})]}),e.jsxs("div",{className:"detailsPage__techSpecs-block",children:[e.jsx("span",{className:"detailsPage__techSpecs-title",children:"Resolution"}),e.jsx("span",{className:"detailsPage__techSpecs-value",children:s.resolution})]}),e.jsxs("div",{className:"detailsPage__techSpecs-block",children:[e.jsx("span",{className:"detailsPage__techSpecs-title",children:"Processor"}),e.jsx("span",{className:"detailsPage__techSpecs-value",children:s.processor})]}),e.jsxs("div",{className:"detailsPage__techSpecs-block",children:[e.jsx("span",{className:"detailsPage__techSpecs-title",children:"RAM"}),e.jsx("span",{className:"detailsPage__techSpecs-value",children:s.ram})]}),e.jsxs("div",{className:"detailsPage__techSpecs-block",children:[e.jsx("span",{className:"detailsPage__techSpecs-title",children:"Built in memory"}),e.jsx("span",{className:"detailsPage__techSpecs-value",children:s.capacity})]}),e.jsxs("div",{className:"detailsPage__techSpecs-block",children:[e.jsx("span",{className:"detailsPage__techSpecs-title",children:"Camera"}),e.jsx("span",{className:"detailsPage__techSpecs-value",children:s.camera})]}),e.jsxs("div",{className:"detailsPage__techSpecs-block",children:[e.jsx("span",{className:"detailsPage__techSpecs-title",children:"Zoom"}),e.jsx("span",{className:"detailsPage__techSpecs-value",children:s.zoom})]}),e.jsxs("div",{className:"detailsPage__techSpecs-block",children:[e.jsx("span",{className:"detailsPage__techSpecs-title",children:"Cell"}),e.jsx("span",{className:"detailsPage__techSpecs-value",children:s.cell.join(", ")})]})]})]})]}),Z=(s,l,c)=>s.filter(n=>n.category===l&&n.itemId!==c).sort(()=>.5-Math.random()),W=()=>{const{allProducts:s}=t.useContext(A),{productId:l=""}=L(),[c,n]=t.useState(null),[d,P]=t.useState([]),[p,j]=t.useState(!0),[_,r]=t.useState(""),m=E().pathname.split("/")[1];t.useEffect(()=>{j(!0),r("");const h=setTimeout(()=>{G(m).then(o=>{P(o);const x=o.find(u=>u.id===l);x?(n(x),r("")):(n(null),r("Product not found"))}).catch(o=>{r(`
            Error loading products: The product category "${m}" does not exist. ${o.message}`)}).finally(()=>{j(!1)})},500);return()=>clearTimeout(h)},[m]),t.useEffect(()=>{if(!l||!d.length)return;const h=d.find(o=>o.id===l);h?(n(h),r("")):(n(null),r("Product not found"))},[l,d]);const N=l?Z(s,m,l):[];if(p)return e.jsx("div",{className:"detailsPage",children:e.jsx(H,{})});if(_)return e.jsx("div",{className:"detailsPage",children:e.jsxs("div",{className:"detailsPage__error-message",children:[e.jsx("span",{children:_}),e.jsx(F,{to:"/",className:"detailsPage__error-link",children:"Go to HomePage"})]})});if(c)return e.jsxs("div",{className:"detailsPage",children:[_&&!p&&e.jsxs("div",{className:"error-message",children:[e.jsx("span",{children:_}),e.jsx(F,{to:"/",children:"Go to HomePage"})]}),e.jsx(R,{productType:m,productName:c.name}),e.jsx(w,{}),e.jsx("h2",{className:"detailsPage__title",children:c.name}),e.jsx(O,{selectedProduct:c,specificProducts:d}),e.jsx(Y,{selectedProduct:c}),e.jsx("div",{className:"detailsPage__like-block",children:e.jsx(M,{title:"You may also like",products:N,displayType:"with-discount"})})]})};export{W as ProductDetailsPage};
